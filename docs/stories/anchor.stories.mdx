import { Story, Canvas, Meta } from "@storybook/addon-docs/blocks";
import { useEffect } from "@storybook/client-api";
import { viewinfo } from "../view/anchor.view.js";

# 锚点（Anchor）

---

<Meta title="复用组件/锚点(Anchor)" />

<Canvas>
    <Story
        name="锚点(Anchor)"
        height="300px"
        parameters={{
            docs: { source: { code: `${viewinfo.html}\n\n<script type="text/javascript">\n${viewinfo.js}\n</script>` } },
        }}
    >
        {() => {
            useEffect(() => {
                setTimeout(() => {
                    Function(viewinfo.js)();
                }, 100);
            });
            return viewinfo.html;
        }}
    </Story>
</Canvas>

## 基础属性

| 参数 | 说明          | 类型   | 可选值               | 默认值  |
| ---- | ------------- | ------ | -------------------- | ------- |
| ele  | 元素 dom 节点 | String | Class / id / TagName | TagName |

## 配置 options

| 参数   | 说明   | 类型   | 可选值 | 默认值 |
| ------ | ------ | ------ | ------ | ------ |
| offset | 偏移量 | Number | --     | --     |

## 回调方法 on

| 方法名  | 说明           | 类型     | 默认值 | 回调参数     |
| ------- | -------------- | -------- | ------ | ------------ |
| init    | 初始化回调     | Function | null   | 当前对象 DOM |
| jumpOver | 跳转完成后回调 | Function | null   | 当前对象 DOM |

## 调用方法

| 方法名 | 说明     | 类型     | 默认值 | 参数           |
| ------ | -------- | -------- | ------ | -------------- |
| goLocation    | 到达指定锚点位置 | Function | --     |value 锚点位置值, callback |



* 触发锚点标签加 `hope-anchor-key` 属性 , 锚点位置标签加 `hope-anchor-value` 属性 , 要保证属性值相同。
