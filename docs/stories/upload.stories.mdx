import { Story, Canvas, Meta } from "@storybook/addon-docs/blocks";
import { useEffect } from "@storybook/client-api";
import { viewinfo } from "../view/upload.view.js";

# 文件上传（Upload）

---

<Meta title="复用组件/文件上传(Upload)" />

<Canvas>
    <Story
        name="文件上传(Upload)"
        height="150px"
        parameters={{ docs: { source: { code: viewinfo.js } } }}
    >
        {() => {
            useEffect(() => {
                Function(viewinfo.js)();
            });
            return viewinfo.html;
        }}
    </Story>
</Canvas>

## 基础属性

| 参数 | 说明          | 类型   | 可选值               | 默认值  |
| ---- | ------------- | ------ | -------------------- | ------- |
| ele  | 元素 dom 节点 | String | Class / id / TagName | TagName |

## 配置 options

| 参数     | 说明           | 类型    | 可选值 | 默认值 |
| -------- | -------------- | ------- | ------ | ------ |
| url      | 上传服务地址   | String  | --     | --     |
| name     | formname 值    | String  | --     | file   |
| type     | 可上传文件类型 | Array   | --     | --     |
| size     | 可上传文件大小 | Number  | --     | --     |
| multiple | 是否多选       | Boolean | --     | false  |


## 回调方法 on

| 参数      | 说明       | 类型     | 默认值 | 回调参数           |
| --------- | ---------- | -------- | ------ | ------------------ |
| validate  | 校验后回调 | Function | null   | event              |
| uploading | 上传中回调 | Function | null   | --                 |
| complete  | 完成时回调 | Function | null   | res(服务返回 json) |
| error     | 错误时回调 | Function | null   | res(服务返回 json) |

## 调用方法
