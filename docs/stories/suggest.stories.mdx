import { Story, Canvas, Meta } from "@storybook/addon-docs/blocks";
import { useEffect } from "@storybook/client-api";
import { viewinfo } from "../view/suggest.view.js";

# 联想文本框（suggest）

---

<Meta title="基础控件/联想文本框(suggest)" />

<Canvas>
    <Story
        name="联想文本框(suggest)"
        height="300px"
        parameters={{
            docs: { source: { code: `${viewinfo.html}${viewinfo.js}` } },
        }}
    >
        {() => {
            useEffect(() => {
                Function(viewinfo.js)();
            });
            return viewinfo.html;
        }}
    </Story>
</Canvas>

## 基础属性

| 参数 | 说明          | 类型   | 可选值               | 默认值  |
| ---- | ------------- | ------ | -------------------- | ------- |
| ele  | 元素 dom 节点 | String | Class / id / TagName | TagName |

## 配置 options

| 参数              | 说明             | 类型    | 可选值 | 默认值               |
| ----------------- | ---------------- | ------- | ------ | -------------------- |
| noMatchName       | 没有匹配时描述   | String  | --     | -- 没有匹配的内容 -- |
| searchField       | 搜索字段映射     | String  | --     | --                   |
| isFirstData       | 是否会初始化数据 | Boolean | --     | --                   |
| noPlaceholderMode | 原生 placeholder | Boolean | --     | false                |

## http 请求参数 params

参考 jquery.ajax 参数配置

## 初始化函数 reader

处理 res 服务返回内容，然后 return 一个数值的数组

```javascript
var list = res.data;
var tmp = [];
for (var i = 0; i < list.length; i++) {
    tmp.push(list[i].goodsName);
}
return tmp; //['hhhh','xxxx','333333']
```

## 回调方法 on

| 参数       | 说明         | 类型     | 默认值 | 回调参数     |
| ---------- | ------------ | -------- | ------ | ------------ |
| init       | 初始化回调   | Function | null   | 当前对象 DOM |
| change     | 选择后回调   | Function | null   | 当前对象 DOM |
| blur       | 失去焦点回调 | Function | null   | event↓       |
| focus      | 获得焦点回调 | Function | null   | event↓       |
| input      | 输入回调     | Function | null   | event↓       |
| sendBefore | 发送请求前   | Function | null   | event↓       |

| event 参数 | 说明           | 类型   |
| ---------- | -------------- | ------ |
| targetELe  | dom 对象       | Object |
| value      | 输入的值       | String |
| eventName  | 当前回调事件名 | String |
