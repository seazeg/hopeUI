import { Story, Canvas, Meta } from "@storybook/addon-docs/blocks";
import { useEffect } from "@storybook/client-api";
import { viewinfo } from "../view/zoom.view.js";

# 图像放大镜（Zoom）

---

<Meta title="复用组件/图像放大镜(Zoom)" />

<Canvas>
    <Story
        name="图像放大镜(Zoom)"
        height="150px"
        parameters={{
            docs: { source: { code: `${viewinfo.html}\n\n<script type="text/javascript">\n${viewinfo.js}\n</script>` } },
        }}
    >
        {() => {
            useEffect(() => {
                setTimeout(() => {
                    Function(viewinfo.js)();
                }, 100);
            });
            return viewinfo.html;
        }}
    </Story>
</Canvas>

## 基础属性

| 参数 | 说明          | 类型   | 可选值               | 默认值  |
| ---- | ------------- | ------ | -------------------- | ------- |
| ele  | 元素 dom 节点 | String | Class / id / TagName | TagName |

## 配置 options

| 参数         | 说明                      | 类型    | 可选值  | 默认值 |
| ------------ | ------------------------- | ------- | ------- | ------ | ------- |
| largeWrapper | 放大图像承载容器 ID       | String  | --      | --     |
| mode         | 图外放大模式&图上放大模式 | String  | outside | inside | outside |
| zoom         | 缩放倍率                  | Number  | --      | 2      |
| zoomable     | 是否可以随时缩放          | Boolean | --      | false  |

## 回调方法 on

| 参数  | 说明           | 类型     | 默认值 | 回调参数 |
| ----- | -------------- | -------- | ------ | -------- |
| enter | 进入图片区域时 | Function | null   | event    |
| move  | 图片区域移动时 | Function | null   | event    |
| leave | 离开图片区域时 | Function | null   | event    |
| scale | 图片区域缩放时 | Function | null   | event    |

## 调用方法

| 方法名 | 说明     | 类型     | 默认值 | 参数     |
| ------ | -------- | -------- | ------ | -------- |
| update | 更新图片 | Function | --     | 图片地址 |
