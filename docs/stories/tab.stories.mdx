import { Story, Canvas, Meta } from "@storybook/addon-docs/blocks";
import { useEffect } from "@storybook/client-api";
import { viewinfo } from "../view/tab.view.js";

# 选项卡（Tab）

---

<Meta title="复用组件/选项卡(Tab)" />

<Canvas>
    <Story
        name="通用"
        height="150px"
        parameters={{
            docs: {
                source: { code: `${viewinfo.general}${viewinfo.generalJS}` },
            },
        }}
    >
        {() => {
            useEffect(() => {
                setTimeout(() => {
                    Function(viewinfo.generalJS)();
                }, 100);
            });
            return viewinfo.general;
        }}
    </Story>
</Canvas>

<Canvas>
    <Story
        name="简洁"
        height="150px"
        parameters={{
            docs: {
                source: { code: `${viewinfo.concise}${viewinfo.conciseJS}` },
            },
        }}
    >
        {() => {
            useEffect(() => {
                setTimeout(() => {
                    Function(viewinfo.conciseJS)();
                }, 100);
            });
            return viewinfo.concise;
        }}
    </Story>

</Canvas>

<Canvas>
    <Story
        name="卡片"
        height="150px"
        parameters={{
            docs: { source: { code: `${viewinfo.card}${viewinfo.cardJS}` } },
        }}
    >
        {() => {
            useEffect(() => {
                Function(viewinfo.cardJS)();
            });
            return viewinfo.card;
        }}
    </Story>
</Canvas>

## 基础属性

| 参数 | 说明          | 类型   | 可选值               | 默认值 |
| ---- | ------------- | ------ | -------------------- | ------ |
| ele  | 元素 dom 节点 | String | Class / id / TagName | 必填   |

## 配置 options

| 参数        | 说明       | 类型    | 可选值 | 默认值 |
| ----------- | ---------- | ------- | ------ | ------ |
| slideSwitch | touch 切换 | Boolean | --     | false  |

## 回调方法 on

| 参数   | 说明           | 类型     | 默认值 | 回调参数     |
| ------ | -------------- | -------- | ------ | ------------ |
| init   | 初始化回调     | Function | null   | 当前对象 DOM |
| change | 点击选择后回调 | Function | null   | event↓       |

| event 参数       | 说明                      | 类型   |
| ---------------- | ------------------------- | ------ |
| index            | 当前选择的 dom 对象的下标 | Number |
| targetELe        | 当前选择的 dom 对象       | Object |
| targetELeContent | 当前选择值对应的 content  | Object |
| eventName        | 当前回调事件名            | String |

| class 名称        | 说明     | 值范围 |
| ----------------- | -------- | ------ |
| hopeui-tab-simple | 简洁模式 | -      |
| hopeui-tab-card   | 卡片模式 | -      |

## 调用方法

| 方法名 | 说明           | 类型     | 默认值 | 参数 |
| ------ | -------------- | -------- | ------ | ---- |
| switch | 动态切换选项卡 | Function | --     | 下标 |
